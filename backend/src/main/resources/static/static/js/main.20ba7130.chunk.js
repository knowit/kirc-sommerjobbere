(this["webpackJsonpkirc-frontend"]=this["webpackJsonpkirc-frontend"]||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},50:function(t,e,n){"use strict";n.r(e);var s=n(2),a=n.n(s),r=n(17),c=n.n(r),i=(n(23),n.p,n(24),n(4)),o=n.n(i),u=n(18),l=n(5),h=n(6),d=n(8),f=n(7),p=(n(26),n(0)),b=n(28),j=n(47);var m=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).msgRef=a.a.createRef(),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.msgRef.current.setAttribute("style",this.props.style)}},{key:"componentDidUpdate",value:function(){this.msgRef.current.setAttribute("style",this.props.style)}},{key:"render",value:function(){return Object(p.jsx)("span",{ref:this.msgRef,children:this.props.message})}}]),n}(a.a.Component),v=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(l.a)(this,n),(s=e.call(this,t)).state={data:[]},s.btmDivRef=a.a.createRef(),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.updateMessages()}),1e3),this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"scrollToBottom",value:function(){this.btmDivRef.current.scrollIntoView({behavior:"smooth"})}},{key:"updateMessages",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.get("http://35.157.57.155:80/messages/",{headers:{}});case 3:e=t.sent,j.isEqual(e.data,this.state.data)||this.setState({data:e.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"getReadableDate",value:function(t){return new Date(t).toLocaleString("no-NO")}},{key:"render",value:function(){var t=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"KIRC"}),Object(p.jsx)("ul",{style:{listStyleType:"none"},children:this.state.data.map((function(e){return Object(p.jsxs)("li",{children:[Object(p.jsxs)("span",{style:{margin:"5px"},children:["[",t.getReadableDate(e.timestamp),"]"]}),Object(p.jsxs)("span",{children:["[",null===e.nickname?"Guest":e.nickname,"]: "]}),Object(p.jsx)(m,{style:e.style,message:e.message,id:e.id})]},e.id)}))}),Object(p.jsx)("div",{ref:this.btmDivRef})]})}}]),n}(a.a.Component);var g=function(){return Object(p.jsx)(v,{})},O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(e){var n=e.getCLS,s=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),s(t),a(t),r(t),c(t)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root")),O()}},[[50,1,2]]]);
//# sourceMappingURL=main.20ba7130.chunk.js.map